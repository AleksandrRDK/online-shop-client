import{u as m,e as j,k as f,r as c,j as s,L as h}from"./index-DeNsLfE1.js";import{a as g}from"./orders-0POazPYi.js";import{H as n}from"./Header-CxPdQDku.js";/* empty css                 */function y(){const t=m(),{orderId:i}=j(),d=f(),[e,l]=c.useState(null),[u,o]=c.useState(!0),a=i||d.state?.orderId;if(c.useEffect(()=>{if(!a){t("/");return}(async()=>{try{o(!0);const r=await g(a);l(r)}catch(r){console.error("Ошибка загрузки заказа:",r)}finally{o(!1)}})()},[a,t]),u)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx(h,{size:160})]});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"container",children:s.jsx("p",{children:"Заказ не найден"})})]});const x=e.status==="succeeded"?"Оплата прошла успешно!":e.status==="canceled"?"Оплата отменена":"Платёж обрабатывается";return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsxs("div",{className:"container cart-success-page",children:[s.jsx("button",{className:"back-btn",onClick:()=>t(-1),children:"← Назад"}),s.jsx("h2",{className:e.status,children:x}),e.status==="succeeded"&&s.jsxs("p",{children:["Сумма заказа: ",e.totalPrice," ₽"]}),s.jsx("button",{onClick:()=>t("/"),className:"back-to-calatoge",children:"Вернуться в каталог"})]})]})}export{y as default};
