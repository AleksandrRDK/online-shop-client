import{u as m,e as j,k as f,r as c,j as s,L as g}from"./index-Btt3JPxB.js";import{a as h}from"./orders-Cnz-w333.js";import{H as n}from"./Header-Chv8LFnO.js";/* empty css                 */function y(){const t=m(),{orderId:o}=j(),d=f(),[e,l]=c.useState(null),[u,i]=c.useState(!0),a=o||d.state?.orderId;if(c.useEffect(()=>{if(!a){console.log(`id=${a}`),console.log(`orderid=${o}`),t("/");return}(async()=>{try{i(!0);const r=await h(a);l(r)}catch(r){console.error("Ошибка загрузки заказа:",r)}finally{i(!1)}})()},[a,t]),u)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx(g,{size:160})]});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"container",children:s.jsx("p",{children:"Заказ не найден"})})]});const x=e.status==="succeeded"?"Оплата прошла успешно!":e.status==="canceled"?"Оплата отменена":"Платёж обрабатывается";return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsxs("div",{className:"container cart-success-page",children:[s.jsx("button",{className:"back-btn",onClick:()=>t(-1),children:"← Назад"}),s.jsx("h2",{className:e.status,children:x}),e.status==="succeeded"&&s.jsxs("p",{children:["Сумма заказа: ",e.totalPrice," ₽"]}),s.jsx("button",{onClick:()=>t("/"),className:"back-to-calatoge",children:"Вернуться в каталог"})]})]})}export{y as default};
