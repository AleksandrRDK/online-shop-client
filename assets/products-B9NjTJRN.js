import{f as c,h as p,a as i}from"./index-DeNsLfE1.js";const o=`${p}/products`,g=async(a=1,t=48)=>{try{const{data:r}=await i.get("/products/user",{params:{page:a,limit:t}});return r}catch(r){throw console.error("Ошибка при получении товаров пользователя:",r.response?.data||r),r}},h=async(a,t)=>{try{const r=new FormData;if(r.append("title",a.title),r.append("description",a.description),r.append("price",a.price),a.tags){const s=a.tags.split(",").map(n=>n.trim()).filter(n=>n.length>0);r.append("tags",JSON.stringify(s))}a.characteristics&&r.append("characteristics",JSON.stringify(a.characteristics)),t&&r.append("image",t);const{data:e}=await i.post("/products",r,{headers:{"Content-Type":"multipart/form-data"}});return e}catch(r){throw console.error("Ошибка при создании товара:",r.response?.data||r),r}},y=async(a=1,t=48,r="all",e=[])=>{try{const s={page:a,limit:t,filter:r};e.length&&(s.tags=e.join(","));const{data:n}=await c.get(o,{params:s});return n}catch(s){throw console.error("Ошибка при получении товаров:",s.response?.data||s),s}},l=async a=>{try{const{data:t}=await c.get(`${o}/${a}`);return t}catch(t){throw console.error(`Ошибка при получении товара ${a}:`,t.response?.data||t),t}},f=async(a,t,r)=>{try{const e=new FormData;t.title&&e.append("title",t.title),t.description&&e.append("description",t.description),t.price!==void 0&&e.append("price",t.price),t.tags&&e.append("tags",JSON.stringify(t.tags)),t.characteristics&&e.append("characteristics",JSON.stringify(t.characteristics)),r&&e.append("image",r);const{data:s}=await c.put(`${o}/${a}`,e,{headers:{"Content-Type":"multipart/form-data"}});return s}catch(e){throw console.error(`Ошибка при обновлении товара ${a}:`,e.response?.data||e),e}},m=async a=>{try{const{data:t}=await c.delete(`${o}/${a}`);return t}catch(t){throw console.error(`Ошибка при удалении товара ${a}:`,t.response?.data||t),t}},w=async()=>{try{const{data:a}=await c.get(`${o}/tags`);return a}catch(a){throw console.error("Ошибка при получении тегов:",a.response?.data||a),a}};export{y as a,g as b,h as c,m as d,l as e,w as g,f as u};
